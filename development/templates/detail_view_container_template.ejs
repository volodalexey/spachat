<% var _in = arguments[0];

_in.config._byDataLocation = {};
_in.config._byDataLocation.user_id = _in.config.byDataLocation.user_id;
_in.config._byDataLocation.navbar = _in.config.byDataLocation.navbar;

var calcDisplay = function(config) {
    if (_in.options && _in.options.openChats && config.data){
        if (_in.options.openChats[_in.data.chatId]) {
            if (config.data.action === 'showChat') {
                return false;
            }
        } else {
            if (config.data.action === 'closeChat') {
                return false;
            }
        }
    }
    return true;
};%>
<% if (_in.config && _in.config._byDataLocation) {
        for (var locationKey in _in.config._byDataLocation) { %>

<%= _in.location_wrapper_template({
    config: _in.config._byDataLocation[locationKey],
    data: _in.data ? _in.data : {},
    icon_config: _in.icon_config,
    triple_element_template: _in.triple_element_template,
    button_template: _in.button_template,
    input_template: _in.input_template,
    label_template: _in.label_template,
    options: _in.options,
    calcDisplay: calcDisplay
}) %>
<% }
} %>
